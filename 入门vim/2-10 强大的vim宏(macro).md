## 强大的vim宏(macro)

### 从需求说起

#### 需求：给多行 url 链接加上双引号。

```shell
https://github.com/1
https://github.com/2
https://github.com/3
https://github.com/4
https://github.com/5
https://github.com/6
https://github.com/7
```

可以用 vim 的宏来解决



### 什么是 vim 的宏(macro)

- 宏可看作是一系列命令的集合
- 可以使用宏 ‘录制’ 一系列操作，然后用于 ‘回放’
- 宏可以非常方便的把一系列命令用在多行文本上



### 如何使用宏

宏的使用分为录制和回放(有种拍电影的赶脚)

- vim 在 normal模式使用 `q`  来录制，同时使用 `q`  来结束录制
- 使用 `q{register}`  选择要保存的寄存器，把录制命令保存到其中
- 使用 `@{register}`  回放寄存器中保存的一系列命令



### 用宏解决上面提出的问题

- 先给一行加上双引号，然后再回放到其他所有行
- 先使用 q 开始录制，给一行加上双引号，之后使用 q 退出
- 在剩下的所有行中回放录制的宏

#### 实操步骤(批量加双引号)

- 到第一个链接上，按输入 `qa` ，进入录制并选择a寄存器
- 接着分别在链接头尾加上双引号(`I` 在头插入、`A` 在尾插入)
- 按下 `q`  退出录制
- 到另一行中按下 `@a`  ，回回放寄存器中保存的操作和命令
- 批量操作可以借用vim的v命令，选中多行，在命令行中输入 `: normal @a`  即可对多行文本进行加双引号操作。